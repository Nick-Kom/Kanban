
<div class="wrap">
  <app-toolbar></app-toolbar>
<mat-icon class="back" [routerLink]="['/boards']">keyboard_arrow_left</mat-icon>
<div class="board-wrap">
  <mat-card class="board-card">
    <form
      (ngSubmit)="saveBoardTitle(boardDate)"
      [formGroup]="titleForm">
      <div class="board-card-panel">
        <div class=" board-card-panel-title ">
          <mat-input-container *ngIf="!changeTitle || !boardName">
            <input class="board-title-input"
                   matInput
                   placeholder="Board title"
                   formControlName="title">
          </mat-input-container>
          <h2 class="board-card-panel-title-h2"
              *ngIf="changeTitle "
              (click)="editBoardTitle()">
            {{boardName}}
          </h2>
          <p class="board-card-panel-title-date">{{boardDate | date}}</p>
        </div>
        <div class="board-card-panel-btns ">
            <button *ngIf="!changeTitle || !boardName  "
                    mat-icon-button
                    [disabled]="titleForm.invalid">
              <mat-icon class="save-icon">save</mat-icon>
            </button>
            <button  mat-icon-button *ngIf="showCancelBtn"
                    type="button"
                    (click)="showEditBtn()">
              <mat-icon>clear</mat-icon>
            </button>
          <button mat-icon-button *ngIf="!showCancelBtn"
                  [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu">
            <button mat-menu-item
                    type="button"
                    (click)="editBoardTitle()">
              <mat-icon>create</mat-icon>
              <span>Rename</span>
            </button>
            <button mat-menu-item
                    (click)="openDialog(board)">
              <mat-icon>color_lens</mat-icon>
              <span>Set board color</span>
            </button>
            <button mat-menu-item
                    (click)="openDialog(board)">
              <mat-icon>delete</mat-icon>
              <span>Delete</span>
            </button>
          </mat-menu>
        </div>

      </div>

      <mat-card class="alert"
                *ngIf="!titleForm.controls['title'].valid
                        && titleForm.controls['title'].touched">
        You must specify title in 50 characters
      </mat-card>
    </form>
  </mat-card>

</div>
<app-columns class="columns"></app-columns>
</div>
